$.fn.circleType=function(t){var e={dir:1,position:"relative"};if("function"!=typeof $.fn.lettering){console.log("Lettering.js is required");return}return this.each(function(){t&&$.extend(e,t);var i,r,n=this,o=180/Math.PI,f=parseInt($(n).css("line-height"),10),s=parseInt($(n).css("font-size"),10),a=n.innerHTML.replace(/^\s+|\s+$/g,"").replace(/\s/g,"&nbsp;");n.innerHTML=a,$(n).lettering(),n.style.position=e.position,r=Math.floor((i=n.getElementsByTagName("span")).length/2);var g=function(){var t,r,a,g,l,u,d,p,c=0,m=0;for(t=0;t<i.length;t++)c+=i[t].offsetWidth;for(r=c/Math.PI/2+f,e.fluid&&!e.fitText?e.radius=Math.max(n.offsetWidth/2,r):e.radius||(e.radius=r),a=-1===e.dir?"center "+(-e.radius+f)/s+"em":"center "+e.radius/s+"em",g=e.radius-f,t=0;t<i.length;t++)m+=(l=i[t]).offsetWidth/2/g*o,l.rot=m,m+=l.offsetWidth/2/g*o;for(t=0;t<i.length;t++)u=(l=i[t]).style,p="rotate("+(d=-m*e.dir/2+l.rot*e.dir)+"deg)",u.position="absolute",u.left="50%",u.marginLeft=-(l.offsetWidth/2)/s+"em",u.webkitTransform=p,u.MozTransform=p,u.OTransform=p,u.msTransform=p,u.transform=p,u.webkitTransformOrigin=a,u.MozTransformOrigin=a,u.OTransformOrigin=a,u.msTransformOrigin=a,u.transformOrigin=a,-1===e.dir&&(u.bottom=0);e.fitText&&("function"!=typeof $.fn.fitText?console.log("FitText.js is required when using the fitText option"):($(n).fitText(),$(window).resize(function(){h()}))),h()},l=function(t){var e=document.documentElement,i=t.getBoundingClientRect();return{top:i.top+window.pageYOffset-e.clientTop,left:i.left+window.pageXOffset-e.clientLeft,height:i.height}},h=function(){var t,e=l(i[r]),o=l(i[0]);t=e.top<o.top?o.top-e.top+o.height:e.top-o.top+o.height,n.style.height=t+"px"};e.fluid&&!e.fitText&&$(window).resize(function(){g()}),document.readyState,g()})};